// Generated by CoffeeScript 1.6.3
var app;

app = angular.module("nba_players", []);

app.controller("nba_players_controller", function($scope, $http, $filter) {
  $scope.heading = "League Leaders";
  $http({
    method: "GET",
    url: "../players.json"
  }).success(function(data, status, headers, config) {
    return _.each(data, function(player) {
      player.team = player.team.toUpperCase();
      player.minutes_per_game = parseFloat(player.minutes_per_game);
      player.points_per_game = parseFloat(player.points_per_game);
      player.assists_per_game = parseFloat(player.assists_per_game);
      player.offensive_rebounds_per_game = parseFloat(player.offensive_rebounds_per_game);
      player.defensive_rebounds_per_game = parseFloat(player.defensive_rebounds_per_game);
      player.total_rebounds_per_game = parseFloat(player.total_rebounds_per_game);
      player.steals_per_game = parseFloat(player.steals_per_game);
      player.blocks_per_game = parseFloat(player.blocks_per_game);
      player.turnovers_per_game = parseFloat(player.turnovers_per_game);
      return $scope.players = data;
    });
  });
  $scope.sortProperty = "points_per_game";
  $scope.sortDirection = true;
  return $scope.sortBy = function(column) {
    if ($scope.sortProperty === column) {
      return $scope.sortDirection = !$scope.sortDirection;
    } else {
      $scope.sortProperty = column;
      return $scope.sortDirection = true;
    }
  };
});
