// Generated by CoffeeScript 1.6.3
var nbaTeamsApp;

nbaTeamsApp = angular.module("nbaTeams", []);

nbaTeamsApp.factory("teamsApiFactory", [
  "$http", function($http) {
    var teamsApiFactory;
    teamsApiFactory = {};
    teamsApiFactory.getTeams = function() {
      var teams;
      teams = [];
      $http({
        method: "GET",
        url: "/teams.json"
      }).success(function(data, status, headers, config) {
        return _.each(data, function(team) {
          return teams.push(team);
        });
      });
      return teams;
    };
    return teamsApiFactory;
  }
]);

nbaTeamsApp.controller("nbaTeamsController", [
  "$scope", "teamsApiFactory", function($scope, teamsApiFactory) {
    $scope.teams = teamsApiFactory.getTeams();
    $scope.sortProperty = "net_rating";
    $scope.sortDirection = true;
    return $scope.sortBy = function(column) {
      if ($scope.sortProperty === column) {
        return $scope.sortDirection = !$scope.sortDirection;
      } else {
        $scope.sortProperty = column;
        return $scope.sortDirection = true;
      }
    };
  }
]);
